<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Consumindo API</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 20px;
    }
    table, th, td {
      border: 1px solid #ddd;
    }
    th, td {
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f2f2f2;
    }
  </style>
</head>
<body>
  <h1>Dados da API</h1>
  <button onclick="carregarDados()">Carregar Dados</button>
  <div id="saida"></div>

  <script>
    async function carregarDados() {
      try {
        // 1. Fazendo requisição à API
        const resposta = await fetch("https://my-json-server.typicode.com/philorocha/dispensa-data/resultado");
        const dados = await resposta.json();

        // 2. Montando uma tabela HTML
        let tabela = "<table><tr><th>Número Compra</th><th>Modalidade</th><th>Nº Processo</th><th>Objeto</th><th>Valor Total Estimado</th><th>Valor Total Homologado</th></tr>";
        dados.forEach(item => {
          tabela += `<tr>
            <td>${item.numeroCompra}/${item.anoCompraPncp}</td>
            <td>${item.modalidadeNome}</td>
            <td>${item.processo}</td>
            <td>${item.objetoCompra}</td>
            <td>${item.valorTotalEstimado}</td>
            <td>${item.valorTotalHomologado}</td>
          </tr>`;
        });
        tabela += "</table>";

        // 3. Inserindo no HTML
        document.getElementById("saida").innerHTML = tabela;

      } catch (erro) {
        console.error("Erro ao carregar API:", erro);
        document.getElementById("saida").innerText = "Erro ao carregar dados.";
      }
    }
  </script>
</body>
</html>
